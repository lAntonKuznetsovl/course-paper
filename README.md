#Виджет для анализа банковских операций

##Описание

    Данный виджет представляет собой набор функций для работы с датафреймами банковских операций. Он выводит ответ в формате json где отображается информация по операциям в зависимости от вводимой даты, топ 5 операций за указанный период, курс валют и акций. Список нужных валют и акций находится в файле user_seting.json. Так же туда, при необходимости, могут быть добавлены новые данные. В модуле services находится функция предоставляющая расчёт суммы отложенной в инвесткопилку при определённом округлении суммы операции. В модуле reports реализован функционал отображения операций в определённой категории за последние 3 месяца от вводимой даты (функция spending_by_category) и расчёта средних трат за день за тот же период (функция average_cost_amount). Так же есть функционал вывода данных в файл с именем вводимым пользователем. Он представлен в виде декоратора и может быть применён к функциям в моделу reports. Есть тесты для всех функций. Имеется логирование операций. Запись логов осуществляется в одноимённые фалы в папку logs.

##Установка

    Клонируйте репозиторий:
    git clone https://github.com/lAntonKuznetsovl/course-paper
    Установите зависимости:
    pip install -r requirements.txt
##Использование

    Для отображения данных по операциям, топа 5 транзакций, курсов валют и акций - запустите главную функцию в модуле main, предварительно поместив файл с транзакциями в папку \PycharmProjects\coursed_paper\data. Введите дату в указанном формате. Для расчёта сумы отложенной в инвесткопилку запустите функцию investment_bank в модуле services указав дату в формате "YYYY-MM" и сумму округления операции. Сумма превышающая сумму транзакции отправится в инвесткопилку. Для отображения средних трат за день за последние 3 месяца от вводимой даты, заустите функцию average_cost_amount в модуле reports, предварительно введя нужную дату в формате "YYYY-MM-DD". Для отображения трат по заданной категории за последние 3 месяца от вводимой даты, запустите функцию spending_by_category в модуле reports, предварительно введя нужную дату в формате "DD.MM.YYYY". При необходимости вывода ответа в json файл, примените декоратор @writing_report("filename") перед нужной функцией, подставив на место filename имя файла для записи ответа.
    Запуск тестов. Чтобы запустить тесты - перейдите в интересующий ваш модуль и запустите тест набрав в терминале команду pytest. Чтобы посмотртеь на сколько тесты покрывают тот или иной модуль: 1. Выберите файл с тестами интересующего модуля. 2. Посмотрите покрытие модуля набрав команду pytest --cov в терминале. 3. Так же можно посмотреть покрытие тестами в HTML-формате, выполните в терминале команду pytest --cov=src --cov-report=html. 4. После, в окне структуры проекта появится дирректория htmlcov. Нажмите правой клавишей мыши на файл index.html. в папке htmlcov, выберите вкладку Open in --> Browser --> "Используемый браузер"
